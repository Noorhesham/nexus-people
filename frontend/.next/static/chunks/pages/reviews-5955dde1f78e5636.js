(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5929],{77957:function(e,t,a){"use strict";var l=a(64836);t.Z=void 0;var r=l(a(64938)),n=a(85893);t.Z=(0,r.default)((0,n.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")},12963:function(e,t,a){"use strict";a.d(t,{Z:function(){return k}});var l=a(87462),r=a(63366),n=a(67294),i=a(90512),s=a(94780),o=a(82963),d=a(90948),c=a(28628),u=a(15861),m=a(2101),v=a(82066),h=a(85893),x=(0,v.Z)((0,h.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz"),p=a(49990);let g=["slots","slotProps"],f=(0,d.ZP)(p.Z)(({theme:e})=>(0,l.Z)({display:"flex",marginLeft:`calc(${e.spacing(1)} * 0.5)`,marginRight:`calc(${e.spacing(1)} * 0.5)`},"light"===e.palette.mode?{backgroundColor:e.palette.grey[100],color:e.palette.grey[700]}:{backgroundColor:e.palette.grey[700],color:e.palette.grey[100]},{borderRadius:2,"&:hover, &:focus":(0,l.Z)({},"light"===e.palette.mode?{backgroundColor:e.palette.grey[200]}:{backgroundColor:e.palette.grey[600]}),"&:active":(0,l.Z)({boxShadow:e.shadows[0]},"light"===e.palette.mode?{backgroundColor:(0,m._4)(e.palette.grey[200],.12)}:{backgroundColor:(0,m._4)(e.palette.grey[600],.12)})})),Z=(0,d.ZP)(x)({width:24,height:16});var Breadcrumbs_BreadcrumbCollapsed=function(e){let{slots:t={},slotProps:a={}}=e,n=(0,r.Z)(e,g);return(0,h.jsx)("li",{children:(0,h.jsx)(f,(0,l.Z)({focusRipple:!0},n,{ownerState:e,children:(0,h.jsx)(Z,(0,l.Z)({as:t.CollapsedIcon,ownerState:e},a.collapsedIcon))}))})},b=a(1588),j=a(34867);function getBreadcrumbsUtilityClass(e){return(0,j.ZP)("MuiBreadcrumbs",e)}let w=(0,b.Z)("MuiBreadcrumbs",["root","ol","li","separator"]),y=["children","className","component","slots","slotProps","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","separator"],useUtilityClasses=e=>{let{classes:t}=e;return(0,s.Z)({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},getBreadcrumbsUtilityClass,t)},C=(0,d.ZP)(u.Z,{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:(e,t)=>[{[`& .${w.li}`]:t.li},t.root]})({}),N=(0,d.ZP)("ol",{name:"MuiBreadcrumbs",slot:"Ol",overridesResolver:(e,t)=>t.ol})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),_=(0,d.ZP)("li",{name:"MuiBreadcrumbs",slot:"Separator",overridesResolver:(e,t)=>t.separator})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8}),S=n.forwardRef(function(e,t){var a,s;let d=(0,c.i)({props:e,name:"MuiBreadcrumbs"}),{children:u,className:m,component:v="nav",slots:x={},slotProps:p={},expandText:g="Show path",itemsAfterCollapse:f=1,itemsBeforeCollapse:Z=1,maxItems:b=8,separator:j="/"}=d,w=(0,r.Z)(d,y),[S,k]=n.useState(!1),R=(0,l.Z)({},d,{component:v,expanded:S,expandText:g,itemsAfterCollapse:f,itemsBeforeCollapse:Z,maxItems:b,separator:j}),P=useUtilityClasses(R),B=(0,o.Z)({elementType:x.CollapsedIcon,externalSlotProps:p.collapsedIcon,ownerState:R}),M=n.useRef(null),E=n.Children.toArray(u).filter(e=>n.isValidElement(e)).map((e,t)=>(0,h.jsx)("li",{className:P.li,children:e},`child-${t}`));return(0,h.jsx)(C,(0,l.Z)({ref:t,component:v,color:"text.secondary",className:(0,i.Z)(P.root,m),ownerState:R},w,{children:(0,h.jsx)(N,{className:P.ol,ref:M,ownerState:R,children:(a=S||b&&E.length<=b?E:Z+f>=E.length?E:[...E.slice(0,Z),(0,h.jsx)(Breadcrumbs_BreadcrumbCollapsed,{"aria-label":g,slots:{CollapsedIcon:x.CollapsedIcon},slotProps:{collapsedIcon:B},onClick:()=>{k(!0);let e=M.current.querySelector("a[href],button,[tabindex]");e&&e.focus()}},"ellipsis"),...E.slice(E.length-f,E.length)],s=P.separator,a.reduce((e,t,l)=>(l<a.length-1?e=e.concat(t,(0,h.jsx)(_,{"aria-hidden":!0,className:s,ownerState:R,children:j},`separator-${l}`)):e.push(t),e),[]))})}))});var k=S},66242:function(e,t,a){"use strict";a.d(t,{Z:function(){return g}});var l=a(87462),r=a(63366),n=a(67294),i=a(90512),s=a(94780),o=a(90948),d=a(28628),c=a(90629),u=a(1588),m=a(34867);function getCardUtilityClass(e){return(0,m.ZP)("MuiCard",e)}(0,u.Z)("MuiCard",["root"]);var v=a(85893);let h=["className","raised"],useUtilityClasses=e=>{let{classes:t}=e;return(0,s.Z)({root:["root"]},getCardUtilityClass,t)},x=(0,o.ZP)(c.Z,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({overflow:"hidden"})),p=n.forwardRef(function(e,t){let a=(0,d.i)({props:e,name:"MuiCard"}),{className:n,raised:s=!1}=a,o=(0,r.Z)(a,h),c=(0,l.Z)({},a,{raised:s}),u=useUtilityClasses(c);return(0,v.jsx)(x,(0,l.Z)({className:(0,i.Z)(u.root,n),elevation:s?8:void 0,ref:t,ownerState:c},o))});var g=p},44267:function(e,t,a){"use strict";a.d(t,{Z:function(){return p}});var l=a(87462),r=a(63366),n=a(67294),i=a(90512),s=a(94780),o=a(90948),d=a(28628),c=a(1588),u=a(34867);function getCardContentUtilityClass(e){return(0,u.ZP)("MuiCardContent",e)}(0,c.Z)("MuiCardContent",["root"]);var m=a(85893);let v=["className","component"],useUtilityClasses=e=>{let{classes:t}=e;return(0,s.Z)({root:["root"]},getCardContentUtilityClass,t)},h=(0,o.ZP)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),x=n.forwardRef(function(e,t){let a=(0,d.i)({props:e,name:"MuiCardContent"}),{className:n,component:s="div"}=a,o=(0,r.Z)(a,v),c=(0,l.Z)({},a,{component:s}),u=useUtilityClasses(c);return(0,m.jsx)(h,(0,l.Z)({as:s,className:(0,i.Z)(u.root,n),ownerState:c,ref:t},o))});var p=x},29433:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/reviews",function(){return a(33138)}])},33138:function(e,t,a){"use strict";a.r(t);var l=a(85893),r=a(67294),n=a(66242),i=a(44267),s=a(15861),o=a(61903),d=a(25662),c=a(69661),u=a(86896),m=a(44012),v=a(90948),h=a(91440),x=a(49769),p=a(96964),g=a(44520),f=a(55771),Z=a(91152),b=a(87066),j=a(58533),w=a(78445),y=a(18979),C=a(79475),N=a(12963),_=a(41664),S=a.n(_),k=a(32216),R=a(31955),P=a(35443),B=a(41733),M=a(77957),E=a(93946),I=a(82175),U=a(16310);let LoadingSkeleton=()=>(0,l.jsxs)(n.Z,{className:"bg-white mt-4",children:[(0,l.jsx)(w.Z,{avatar:(0,l.jsx)(y.Z,{animation:"wave",variant:"circular",width:40,height:40}),title:(0,l.jsx)(y.Z,{animation:"wave",height:10,width:"40%",style:{marginBottom:6}}),subheader:(0,l.jsx)(y.Z,{animation:"wave",height:10,width:"50%"})}),(0,l.jsx)(y.Z,{animation:"wave",variant:"rectangular",height:194}),(0,l.jsxs)(i.Z,{children:[(0,l.jsx)(y.Z,{animation:"wave",height:20,width:"80%",style:{marginBottom:6}}),(0,l.jsx)(y.Z,{animation:"wave",height:10,width:"60%"})]})]}),z=(0,v.ZP)(h.Z)(e=>{let{theme:t}=e;return{"& .MuiRating-iconEmpty .MuiSvgIcon-root":{color:t.palette.action.disabled}}}),W={1:{icon:(0,l.jsx)(x.Z,{color:"error"}),label:{ar:"مستاء جدا",en:"Very Dissatisfied"}},2:{icon:(0,l.jsx)(p.Z,{color:"error"}),label:{ar:"غير راض",en:"Dissatisfied"}},3:{icon:(0,l.jsx)(g.Z,{color:"warning"}),label:{ar:"حيادي",en:"Neutral"}},4:{icon:(0,l.jsx)(f.Z,{color:"success"}),label:{ar:"راضي",en:"Satisfied"}},5:{icon:(0,l.jsx)(Z.Z,{color:"success"}),label:{ar:"راض جدا",en:"Very Satisfied"}}};function IconContainer(e){let{value:t,...a}=e;return(0,l.jsx)("span",{...a,children:W[t].icon})}t.default=()=>{var e,t;let[a,v]=(0,r.useState)([]),[h,x]=(0,r.useState)({_id:"",user:{name:{ar:"",en:""},profilePic:"",_id:""},text:{en:""},rate:null}),{isRTL:p}=(0,r.useContext)(C.O),{user:g}=(0,r.useContext)(P.V),[f,Z]=(0,r.useState)(2),[w,y]=(0,r.useState)(!0),_="".concat("https://nexusbhub.com/backend/","reviews"),[q,A]=(0,r.useState)(!0),[L,O]=(0,r.useState)(null),[V,T]=(0,r.useState)(!1),$="".concat("https://nexusbhub.com/backend/","background"),[D,X]=(0,r.useState)(),[H,J]=(0,r.useState)(),[F,G]=(0,r.useState)(),{formatMessage:K}=(0,u.Z)(),{data:Q,fetchData:Y,handleSubmit:ee,handleInputChange:et,handleDelete:ea,handleEdit:el}=(0,k.Z)({apiEndpoint:"".concat("https://nexusbhub.com/backend/")});(0,r.useEffect)(()=>{Y($,"Background Images")},[$]),(0,r.useEffect)(()=>{X(Q)},[Q]),(0,r.useEffect)(()=>{let e=(null==D?void 0:D.filter(e=>"reviews"===e.page))||[];if(e.length>0){let t=e[0];J(t)}},[D]),(0,r.useEffect)(()=>{var e;(null==(e=null==H?void 0:H.image)?void 0:e.endsWith(".mp4"))||(null==e?void 0:e.endsWith(".wav"))?G("video"):(null==e?void 0:e.endsWith(".png"))||(null==e?void 0:e.endsWith(".jpg"))||(null==e?void 0:e.endsWith(".jpeg"))||(null==e?void 0:e.endsWith(".gif"))||(null==e?void 0:e.endsWith(".webp"))?G("image"):G(null)},[D,H]),(0,r.useEffect)(()=>{a.some(e=>{var t;return(null===(t=e.user)||void 0===t?void 0:t._id)===(null==g?void 0:g._id)})&&!1===V?A(!0):A(!1)},[a,V]),(0,r.useEffect)(()=>{b.Z.get("".concat("https://nexusbhub.com/backend/","reviews?page=1")).then(e=>v(e.data.response.Reviews)).catch(e=>console.error(e))},[]);let handleEditReview=async(e,t)=>{let{setSubmitting:a,resetForm:l}=t;if(!L)return;let r={rate:e.rate,text:{en:e.text.en}};try{await b.Z.put("".concat(_,"/").concat(L._id),r,{headers:{token:R.Z.get("token")}}),v(t=>t.map(t=>t._id===L._id?{...t,text:{en:e.text.en},rate:e.rate}:t)),O(null),x({_id:"",user:{_id:"",name:{ar:"",en:""},profilePic:""},text:{en:""},rate:null}),l()}catch(e){console.error("Error updating review:",e)}finally{a(!1)}},handleDeleteReview=e=>{ea(e,_,R.Z.get("token")).then(()=>{v(t=>t.filter(t=>t._id!==e))})},handleAddReview=async(e,t)=>{let{setSubmitting:a,resetForm:l}=t;x(e=>{var t,a;return{...e,author:p?null==g?void 0:null===(t=g.name)||void 0===t?void 0:t.ar:null==g?void 0:null===(a=g.name)||void 0===a?void 0:a.en}});let r={rate:e.rate,text:{en:e.text.en}};try{let t=await b.Z.post(_,r,{headers:{token:R.Z.get("token")}});v(a=>{var l,r;return[...a,{_id:t.data.review._id,user:{_id:null==g?void 0:g._id,name:{ar:null==g?void 0:null===(l=g.name)||void 0===l?void 0:l.ar,en:null==g?void 0:null===(r=g.name)||void 0===r?void 0:r.en},profilePic:null==g?void 0:g.profilePic},text:{en:e.text.en},rate:e.rate}]}),x({_id:"",user:{_id:"",name:{ar:"",en:""},profilePic:""},text:{en:""},rate:null}),l()}catch(e){console.error("Error submitting review:",e)}finally{a(!1)}},er=U.Ry().shape({rate:U.Rx().min(1,K({id:"review.rate.required"})).required(K({id:"review.rate.required"})),text:U.Ry({en:U.Z_().required(K({id:"review.text.required"}))})});return(0,l.jsxs)("main",{dir:p?"rtl":"ltr",className:"min-h-screen bg-secondary space-y-8 flex flex-col items-center w-full",children:[(0,l.jsxs)("div",{className:"min-h-[80vh] border-b-4  w-screen relative bg-cover bg-center flex items-center justify-center",style:{backgroundImage:"image"===F?'url("'.concat(null==H?void 0:H.image,'")'):"transparent"},children:["video"===F&&(null==H?void 0:H.image)&&(0,l.jsx)("video",{autoPlay:!0,muted:!0,loop:!0,className:"min-h-[78vh] max-h-[78vh] w-screen absolute inset-0 object-cover",children:(0,l.jsx)("source",{src:null==H?void 0:H.image,type:"video/mp4"})}),(0,l.jsx)("div",{className:"absolute inset-0 bg-secondary opacity-50"}),(0,l.jsxs)("div",{className:"flex flex-col items-center ".concat(p?"space-y-4":""," justify-center z-[3]"),children:[(0,l.jsx)(s.Z,{textAlign:"center",variant:"h1",className:"text-white",children:(0,l.jsx)(m.Z,{id:"navbar.testimonials"})}),(0,l.jsxs)(N.Z,{className:"text-gray-300","aria-label":"breadcrumb",children:[(0,l.jsx)(S(),{href:"/",className:"hover:text-white",children:(0,l.jsx)(m.Z,{id:"navbar.home"})}),(0,l.jsx)(s.Z,{color:"",children:(0,l.jsx)(m.Z,{id:"navbar.testimonials"})})]})]})]}),(0,l.jsx)("div",{className:"w-full grid place-items-center py-16 md:py-20 bg-secondary",children:(0,l.jsxs)("div",{className:"w-11/12 md:w-8/12 grid md:grid-cols-3 gap-8",children:[(0,l.jsx)("div",{className:"md:col-span-2",children:(0,l.jsx)(j.Z,{dataLength:null==a?void 0:a.length,next:()=>{b.Z.get("".concat("https://nexusbhub.com/backend/","reviews?page=").concat(f)).then(e=>{v(t=>[...t,...e.data.response.Reviews]),e.data.response.length>0?y(!0):y(!1)}).catch(e=>y(!1)),Z(e=>e+1)},hasMore:w,loader:(0,l.jsx)(LoadingSkeleton,{}),children:(0,l.jsx)("div",{className:"grid md:grid-cols-2 grid-row-4 gap-4",children:null==a?void 0:a.map(e=>{var t,a,r,o,d,u,m,v,h,x;return(0,l.jsx)(n.Z,{className:"mb-4 col-span-1 row-span-1",children:(0,l.jsxs)(i.Z,{className:"w-full",children:[(0,l.jsxs)("div",{className:"flex items-center mb-2 w-full",children:[(0,l.jsx)(c.Z,{src:null===(t=e.user)||void 0===t?void 0:t.profilePic,className:"mr-2",children:p?null==e?void 0:null===(r=e.user)||void 0===r?void 0:null===(a=r.name)||void 0===a?void 0:a.ar.charAt(0):null==e?void 0:null===(d=e.user)||void 0===d?void 0:null===(o=d.name)||void 0===o?void 0:o.en.charAt(0)}),(0,l.jsx)(s.Z,{className:"text-secondary w-full",variant:"h6",gutterBottom:!0,children:p?null==e?void 0:null===(m=e.user)||void 0===m?void 0:null===(u=m.name)||void 0===u?void 0:u.ar:null==e?void 0:null===(h=e.user)||void 0===h?void 0:null===(v=h.name)||void 0===v?void 0:v.en}),(null==g?void 0:g._id)===(null==e?void 0:null===(x=e.user)||void 0===x?void 0:x._id)?(0,l.jsx)("div",{className:"flex justify-end w-full",children:(0,l.jsxs)("div",{children:[(0,l.jsx)(E.Z,{className:"hover:text-yellow-500",onClick:()=>{T(!V),O(e)},children:(0,l.jsx)(M.Z,{fontSize:"small"})}),(0,l.jsx)(E.Z,{className:"hover:text-red-500",onClick:()=>handleDeleteReview(e._id),children:(0,l.jsx)(B.Z,{fontSize:"small"})})]})}):null]}),(0,l.jsx)(z,{highlightSelectedOnly:!0,IconContainerComponent:IconContainer,name:"read-only",value:e.rate,defaultValue:e.rate,readOnly:!0}),(0,l.jsx)(s.Z,{className:"text-darkBlue",variant:"body1",children:e.text.en})]})},e._id)})})})}),(0,l.jsx)(n.Z,{className:"h-fit order-first md:sticky md:top-20",children:(0,l.jsx)(i.Z,{children:g?(0,l.jsx)(I.J9,{initialValues:{rate:V&&(null==L?void 0:L.rate)||0,text:{en:V&&(null==L?void 0:L.text.en)||""}},validationSchema:er,onSubmit:V?handleEditReview:handleAddReview,children:(0,l.jsxs)(I.l0,{className:"mb-4 space-y-4 flex flex-col ",children:[(0,l.jsxs)("div",{className:"flex items-center ",children:[(0,l.jsx)(I.gN,{name:"rate",children:e=>{let{field:t}=e;return(0,l.jsx)("div",{children:(0,l.jsx)(z,{name:"rate",className:"w-fit",...t,disabled:q,value:V?null==L?void 0:L.rate:h.rate,IconContainerComponent:IconContainer,getLabelText:e=>p?W[e].label.ar:W[e].label.en,onChange:(e,a)=>{t.onChange(e),null!==a&&(V?O(e=>({...e,rate:a})):x(e=>({...e,rate:a||null})))},highlightSelectedOnly:!0})})}}),(0,l.jsx)(s.Z,{variant:"caption",className:"mx-2",children:null===h.rate?null:p?null===(e=W[h.rate])||void 0===e?void 0:e.label.ar:null===(t=W[h.rate])||void 0===t?void 0:t.label.en})]}),(0,l.jsx)(I.Bc,{name:"rate",component:"div",className:"text-red-500"}),(0,l.jsx)(I.gN,{name:"text.en",children:e=>{let{field:t}=e;return(0,l.jsx)(o.Z,{...t,label:(0,l.jsx)(m.Z,{id:"review.label"}),multiline:!0,color:"secondary",rows:4,fullWidth:!0,disabled:q,value:V?null==L?void 0:L.text.en:h.text.en,margin:"normal",variant:"outlined",className:"bg-white",onChange:e=>{t.onChange(e),V?O(t=>({...t,text:{en:e.target.value}})):x(t=>({...t,text:{en:e.target.value}}))}})}}),(0,l.jsx)(I.Bc,{name:"text.en",component:"div",className:"text-red-500"}),(0,l.jsx)(d.Z,{disabled:q,type:"submit",variant:"contained",className:"bg-secondary w-fit hover:bg-primary",color:"primary",children:(0,l.jsx)(m.Z,{id:"contact.submit"})})]})}):(0,l.jsxs)("div",{className:"grid place-items-center gap-2",children:[(0,l.jsx)(s.Z,{variant:"h6",className:"font-bold",children:(0,l.jsx)(m.Z,{id:"review.question"})}),(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsx)(S(),{href:"/sign",children:(0,l.jsx)(s.Z,{className:"text-primary font-bold",children:(0,l.jsx)(m.Z,{id:"login.login"})})}),(0,l.jsxs)(s.Z,{children:["\xa0",(0,l.jsx)(m.Z,{id:"review.login"})]})]})]})})})]})})]})}}},function(e){e.O(0,[8054,8557,9774,2888,179],function(){return e(e.s=29433)}),_N_E=e.O()}]);