(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6134],{90432:function(e,t,a){"use strict";var i=a(64836);t.Z=void 0;var s=i(a(64938)),n=a(85893);t.Z=(0,s.default)((0,n.jsx)("path",{d:"M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2"}),"Bookmark")},36111:function(e,t,a){"use strict";var i=a(64836);t.Z=void 0;var s=i(a(64938)),n=a(85893);t.Z=(0,s.default)((0,n.jsx)("path",{d:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54z"}),"Favorite")},11359:function(e,t,a){"use strict";var i=a(64836);t.Z=void 0;var s=i(a(64938)),n=a(85893);t.Z=(0,s.default)((0,n.jsx)("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92"}),"Share")},83965:function(e,t,a){"use strict";a.d(t,{Z:function(){return f}});var i=a(63366),s=a(87462),n=a(67294),r=a(90512),l=a(94780),o=a(28628),c=a(90948),d=a(1588),u=a(34867);function getCardMediaUtilityClass(e){return(0,u.ZP)("MuiCardMedia",e)}(0,d.Z)("MuiCardMedia",["root","media","img"]);var h=a(85893);let v=["children","className","component","image","src","style"],useUtilityClasses=e=>{let{classes:t,isMediaComponent:a,isImageComponent:i}=e;return(0,l.Z)({root:["root",a&&"media",i&&"img"]},getCardMediaUtilityClass,t)},g=(0,c.ZP)("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:a}=e,{isMediaComponent:i,isImageComponent:s}=a;return[t.root,i&&t.media,s&&t.img]}})(({ownerState:e})=>(0,s.Z)({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},e.isMediaComponent&&{width:"100%"},e.isImageComponent&&{objectFit:"cover"})),m=["video","audio","picture","iframe","img"],x=["picture","img"],p=n.forwardRef(function(e,t){let a=(0,o.i)({props:e,name:"MuiCardMedia"}),{children:n,className:l,component:c="div",image:d,src:u,style:p}=a,f=(0,i.Z)(a,v),Z=-1!==m.indexOf(c),j=!Z&&d?(0,s.Z)({backgroundImage:`url("${d}")`},p):p,b=(0,s.Z)({},a,{component:c,isMediaComponent:Z,isImageComponent:-1!==x.indexOf(c)}),w=useUtilityClasses(b);return(0,h.jsx)(g,(0,s.Z)({className:(0,r.Z)(w.root,l),as:c,role:!Z&&d?"img":void 0,ref:t,style:j,ownerState:b,src:Z?d||u:void 0},f,{children:n}))});var f=p},18987:function(e,t,a){"use strict";a.d(t,{Z:function(){return p}});var i=a(63366),s=a(87462),n=a(67294),r=a(90512),l=a(94780),o=a(59773),c=a(90948),d=a(28628),u=a(1588),h=a(34867);function getListItemAvatarUtilityClass(e){return(0,h.ZP)("MuiListItemAvatar",e)}(0,u.Z)("MuiListItemAvatar",["root","alignItemsFlexStart"]);var v=a(85893);let g=["className"],useUtilityClasses=e=>{let{alignItems:t,classes:a}=e;return(0,l.Z)({root:["root","flex-start"===t&&"alignItemsFlexStart"]},getListItemAvatarUtilityClass,a)},m=(0,c.ZP)("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:a}=e;return[t.root,"flex-start"===a.alignItems&&t.alignItemsFlexStart]}})(({ownerState:e})=>(0,s.Z)({minWidth:56,flexShrink:0},"flex-start"===e.alignItems&&{marginTop:8})),x=n.forwardRef(function(e,t){let a=(0,d.i)({props:e,name:"MuiListItemAvatar"}),{className:l}=a,c=(0,i.Z)(a,g),u=n.useContext(o.Z),h=(0,s.Z)({},a,{alignItems:u.alignItems}),x=useUtilityClasses(h);return(0,v.jsx)(m,(0,s.Z)({className:(0,r.Z)(x.root,l),ownerState:h,ref:t},c))});var p=x},10830:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/news",function(){return a(33654)}])},33654:function(e,t,a){"use strict";a.r(t);var i=a(85893),s=a(67720),n=a(15861),r=a(44012),l=a(66242),o=a(78445),c=a(83965),d=a(44267),u=a(62023),h=a(93946),v=a(36111),g=a(90432),m=a(11359),x=a(41664),p=a.n(x),f=a(67294),Z=a(72626),j=a(79475),b=a(87066),w=a(35443),y=a(31955),k=a(58533),C=a(18979),N=a(91444);a(27967);var S=a(12963),L=a(32216);let LoadingSkeleton=()=>(0,i.jsxs)(l.Z,{className:"bg-white mt-4",children:[(0,i.jsx)(o.Z,{avatar:(0,i.jsx)(C.Z,{animation:"wave",variant:"circular",width:40,height:40}),title:(0,i.jsx)(C.Z,{animation:"wave",height:10,width:"40%",style:{marginBottom:6}}),subheader:(0,i.jsx)(C.Z,{animation:"wave",height:10,width:"50%"})}),(0,i.jsx)(C.Z,{animation:"wave",variant:"rectangular",height:194}),(0,i.jsxs)(d.Z,{children:[(0,i.jsx)(C.Z,{animation:"wave",height:20,width:"80%",style:{marginBottom:6}}),(0,i.jsx)(C.Z,{animation:"wave",height:10,width:"60%"})]})]});var I={day:"numeric",month:"long",year:"numeric"};t.default=()=>{let{user:e,fetchUser:t}=(0,f.useContext)(w.V),{isRTL:a}=(0,f.useContext)(j.O),[o,x]=(0,f.useState)({like:null==e?void 0:e.likedBlogs,save:null==e?void 0:e.savedBlogs}),[C,_]=(0,f.useState)([]),[M,B]=(0,f.useState)(2),[E,A]=(0,f.useState)(!0),O="".concat("https://nexusbhub.com/backend/","background"),[P,U]=(0,f.useState)(),[W,T]=(0,f.useState)(),[D,F]=(0,f.useState)(),{data:R,fetchData:z}=(0,L.Z)({apiEndpoint:"".concat("https://nexusbhub.com/backend/")});(0,f.useEffect)(()=>{z(O,"Background Images")},[O]),(0,f.useEffect)(()=>{U(R)},[R]),(0,f.useEffect)(()=>{let e=(null==P?void 0:P.filter(e=>"news"===e.page))||[];if(e.length>0){let t=e[0];T(t)}},[P]),(0,f.useEffect)(()=>{var e;(null==(e=null==W?void 0:W.image)?void 0:e.endsWith(".mp4"))||(null==e?void 0:e.endsWith(".wav"))?F("video"):(null==e?void 0:e.endsWith(".png"))||(null==e?void 0:e.endsWith(".jpg"))||(null==e?void 0:e.endsWith(".jpeg"))||(null==e?void 0:e.endsWith(".gif"))||(null==e?void 0:e.endsWith(".webp"))?F("image"):F(null)},[P,W]),(0,f.useEffect)(()=>{b.Z.get("".concat("https://nexusbhub.com/backend/","blogs?page=1")).then(e=>_(e.data.response.Blogs)).catch(e=>console.error(e))},[]);let parseDate=e=>{let t=new Date(e);return isNaN(t.getTime())?null:t},handleToggle=async(e,a,i)=>{try{var s;await b.Z.put("".concat("https://nexusbhub.com/backend/","user/toggle").concat(a,"/").concat(e),{},{headers:{token:i}});let n=null===(s=o[a.toLowerCase()])||void 0===s?void 0:s.includes(e);x(t=>{var i;return{...t,[a.toLowerCase()]:n?null===(i=t[a.toLowerCase()])||void 0===i?void 0:i.filter(t=>t!==e):[...t[a.toLowerCase()]||[],e]}}),t(y.Z.get("token"))}catch(e){console.error("Error toggling:",e)}};return(0,i.jsxs)("main",{dir:a?"rtl":"ltr",className:"min-h-screen bg-secondary flex flex-col items-center justify-center space-y-8",children:[(0,i.jsxs)("div",{className:"min-h-[80vh] border-b-4 w-screen relative bg-cover bg-center flex items-center justify-center",style:{backgroundImage:"image"===D?'url("'.concat(null==W?void 0:W.image,'")'):"transparent"},children:["video"===D&&(null==W?void 0:W.image)&&(0,i.jsx)("video",{autoPlay:!0,muted:!0,loop:!0,className:"min-h-[78vh] max-h-[78vh] w-screen absolute inset-0 object-cover",children:(0,i.jsx)("source",{src:null==W?void 0:W.image,type:"video/mp4"})}),(0,i.jsx)("div",{className:"absolute inset-0 bg-secondary opacity-50"}),(0,i.jsxs)("div",{className:"flex flex-col items-center ".concat(a?"space-y-4":""," justify-center z-[3]"),children:[(0,i.jsx)(n.Z,{textAlign:"center",variant:"h1",className:"text-white",children:(0,i.jsx)(r.Z,{id:"navbar.news"})}),(0,i.jsxs)(S.Z,{className:"text-gray-300","aria-label":"breadcrumb",children:[(0,i.jsx)(p(),{href:"/",className:"hover:text-white",children:(0,i.jsx)(r.Z,{id:"navbar.home"})}),(0,i.jsx)(n.Z,{color:"",children:(0,i.jsx)(r.Z,{id:"navbar.news"})})]})]})]}),(0,i.jsxs)("div",{className:"w-full py-20 md:px-20 grid",children:[(0,i.jsxs)("div",{className:"grid grid-cols-3 gap-8 py-8",children:[(0,i.jsx)("div",{className:"col-span-4 row-start-1 md:col-span-2 order-last lg:col-span-1",children:(0,i.jsx)(l.Z,{className:"bg-white w-full h-fit py-4 sticky top-20",children:(0,i.jsxs)(u.Z,{className:"w-full flex flex-col justify-center",children:[(0,i.jsx)(s.Z,{className:"w-full",children:(0,i.jsx)(n.Z,{variant:"h6",children:(0,i.jsx)(r.Z,{id:"blog.saved"})})}),(0,i.jsx)(Z.default,{})]})})}),(0,i.jsx)("div",{className:"col-span-4 lg:col-span-2 lg:row-start-1 h-fit space-y-4",children:(0,i.jsx)(k.Z,{dataLength:C.length,next:()=>{b.Z.get("".concat("https://nexusbhub.com/backend/","blogs?page=").concat(M)).then(e=>{_(t=>[...t,...e.data.response.Blogs]),e.data.response.length>0?A(!0):A(!1)}).catch(e=>A(!1)),B(e=>e+1)},hasMore:E,loader:(0,i.jsx)(LoadingSkeleton,{}),children:(0,i.jsx)("div",{className:"space-y-4",children:C.map((e,t)=>{var s,x,f,Z,j,b,w;return(0,i.jsxs)(l.Z,{className:"bg-white",children:[(0,i.jsxs)(p(),{href:"/news/".concat(e._id),children:[(0,i.jsx)(c.Z,{component:"img",height:"194",image:e.imageCover,alt:"",className:"h-80"}),(0,i.jsxs)(d.Z,{children:[(0,i.jsxs)(n.Z,{variant:"subtitle2",component:"div",children:[(0,i.jsx)(r.Z,{id:"blog.posted"}),"\xa0",null===(s=parseDate(null==e?void 0:e.createdAt))||void 0===s?void 0:s.toLocaleDateString("".concat(a?"ar-EG":"en-US"),I)]}),(0,i.jsx)(n.Z,{variant:"h6",children:a?e.title.ar:e.title.en}),a?(0,i.jsxs)(n.Z,{variant:"body2",color:"text.secondary",children:[null===(x=e.description.ar)||void 0===x?void 0:x.substring(0,150)," \xa0",(null===(f=e.description.ar)||void 0===f?void 0:f.length)>150&&(0,i.jsxs)(p(),{href:"/news/".concat(e._id),className:"text-Baige",children:[(0,i.jsx)(r.Z,{id:"readMore"}),"..."]})]}):(0,i.jsxs)(n.Z,{variant:"body2",color:"text.secondary",children:[null===(Z=e.description.en)||void 0===Z?void 0:Z.substring(0,150)," \xa0",(null===(j=e.description.en)||void 0===j?void 0:j.length)>150&&(0,i.jsxs)(p(),{href:"/news/".concat(e._id),className:"text-Baige",children:[(0,i.jsx)(r.Z,{id:"readMore"}),"..."]})]})]})]}),(0,i.jsxs)(u.Z,{disableSpacing:!0,children:[(0,i.jsx)(h.Z,{"aria-label":"Like",className:"".concat(o.like&&(null===(b=o.like)||void 0===b?void 0:b.includes(e._id))?"text-primary":""),onClick:t=>handleToggle(e._id,"Like",y.Z.get("token")),children:(0,i.jsx)(v.Z,{})}),(0,i.jsx)(h.Z,{"aria-label":"Share",onClick:t=>navigator.share({title:a?e.title.ar:e.description.en,text:a?e.description.ar:e.description.en,url:"".concat(window.location.origin,"/news/").concat(e._id)}),children:(0,i.jsx)(m.Z,{})}),(0,i.jsx)(h.Z,{"aria-label":"Share",className:"".concat(o.save&&(null===(w=o.save)||void 0===w?void 0:w.includes(e._id))?"text-primary":""),onClick:t=>handleToggle(e._id,"Save",y.Z.get("token")),children:(0,i.jsx)(g.Z,{})})]})]},t)})})})})]}),(0,i.jsx)(N.Ix,{position:"top-right",autoClose:1500,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"})]})]})}},72626:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return AlignItemsList}});var i=a(85893),s=a(67294),n=a(78462),r=a(97212),l=a(67720),o=a(59334),c=a(15861),d=a(79475),u=a(35443),h=a(87066),v=a(31955),g=a(41664),m=a.n(g),x=a(18987),p=a(69661),f={day:"numeric",month:"long",year:"numeric"};function AlignItemsList(){let{isRTL:e}=(0,s.useContext)(d.O),{user:t}=(0,s.useContext)(u.V),[a,g]=(0,s.useState)(!1),[Z,j]=(0,s.useState)([]),parseDate=e=>{let t=new Date(e);return isNaN(t.getTime())?null:t};return(0,s.useEffect)(()=>{let fetchBlogs=async()=>{try{g(!0);let e=await h.Z.get("".concat("https://nexusbhub.com/backend/","user/savedBlogs"),{headers:{token:v.Z.get("token")}});j(e.data.response[0].savedBlogs||[])}catch(e){console.error("Error fetching blogs:",e)}finally{g(!1)}};fetchBlogs()},[null==t?void 0:t.savedBlogs]),(0,i.jsx)(n.Z,{className:"",dir:e?"rtl":"ltr",sx:{width:"100%",maxWidth:360,bgcolor:"background.paper"},children:null==Z?void 0:Z.map(t=>{var a,n,d,u,h;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(m(),{href:"/news/".concat(t._id),children:(0,i.jsxs)(r.ZP,{className:"hover:bg-secondary hover:text-white cursor-pointer",children:[(0,i.jsx)(x.Z,{children:(0,i.jsx)(p.Z,{variant:"rounded",alt:e?null==t?void 0:null===(a=t.title)||void 0===a?void 0:a.ar:null==t?void 0:null===(n=t.title)||void 0===n?void 0:n.en,src:null==t?void 0:t.imageCover})}),(0,i.jsx)(o.Z,{primary:(0,i.jsxs)(s.Fragment,{children:[(0,i.jsx)(c.Z,{variant:"body1",children:e?null==t?void 0:null===(d=t.title)||void 0===d?void 0:d.ar:null==t?void 0:null===(u=t.title)||void 0===u?void 0:u.en}),(0,i.jsx)(c.Z,{fontSize:12,variant:"subtitle2",children:null===(h=parseDate(null==t?void 0:t.createdAt))||void 0===h?void 0:h.toLocaleDateString("".concat(e?"ar-EG":"en-US"),f)})]})})]})}),(0,i.jsx)(l.Z,{variant:"fullWidth",component:"li"})]})})})}}},function(e){e.O(0,[8038,8054,9774,2888,179],function(){return e(e.s=10830)}),_N_E=e.O()}]);